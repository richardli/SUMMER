<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The function smoothDirect replaces the previous function name fitINLA (before version 1.0.0)."><title>Smoothed direct estimates for mortality rates — smoothDirect • SUMMER</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Smoothed direct estimates for mortality rates — smoothDirect"><meta property="og:description" content="The function smoothDirect replaces the previous function name fitINLA (before version 1.0.0)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">SUMMER</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/web_only/small-area-estimation.html">Generic small area estimation</a>
    <a class="dropdown-item" href="../articles/web_only/u5mr-vignette.html">Estimating Subnational U5MR using Simulated Data</a>
    <a class="dropdown-item" href="../articles/web_only/u5mr-dhs-vignette.html">Estimating Subnational U5MR using DHS Data</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/richardli/SUMMER/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Smoothed direct estimates for mortality rates</h1>
      <small class="dont-index">Source: <a href="https://github.com/richardli/SUMMER/blob/HEAD/R/fitINLA.R" class="external-link"><code>R/fitINLA.R</code></a></small>
      <div class="d-none name"><code>smoothDirect.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The function <code>smoothDirect</code> replaces the previous function name <code>fitINLA</code> (before version 1.0.0).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">smoothDirect</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">Amat</span>,</span>
<span>  formula <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  time.model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rw1"</span>, <span class="st">"rw2"</span>, <span class="st">"ar1"</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>  st.time.model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">year_label</span>,</span>
<span>  year_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1980</span>, <span class="fl">2014</span><span class="op">)</span>,</span>
<span>  is.yearly <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  m <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  type.st <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  survey.effect <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  hyper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pc"</span>, <span class="st">"gamma"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  pc.u <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  pc.alpha <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  pc.u.phi <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  pc.alpha.phi <span class="op">=</span> <span class="fl">2</span><span class="op">/</span><span class="fl">3</span>,</span>
<span>  pc.u.cor <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  pc.alpha.cor <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  pc.st.u <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  pc.st.alpha <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  control.compute <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>dic <span class="op">=</span> <span class="cn">TRUE</span>, mlik <span class="op">=</span> <span class="cn">TRUE</span>, cpo <span class="op">=</span> <span class="cn">TRUE</span>, openmp.strategy <span class="op">=</span></span>
<span>    <span class="st">"default"</span>, config <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  control.inla <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>strategy <span class="op">=</span> <span class="st">"adaptive"</span>, int.strategy <span class="op">=</span> <span class="st">"auto"</span><span class="op">)</span>,</span>
<span>  control.fixed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  geo <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rw <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ar <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  options <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">fitINLA</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">Amat</span>,</span>
<span>  formula <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  time.model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rw1"</span>, <span class="st">"rw2"</span>, <span class="st">"ar1"</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>  st.time.model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">year_label</span>,</span>
<span>  year_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1980</span>, <span class="fl">2014</span><span class="op">)</span>,</span>
<span>  is.yearly <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  m <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  type.st <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  survey.effect <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  hyper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pc"</span>, <span class="st">"gamma"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  pc.u <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  pc.alpha <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  pc.u.phi <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  pc.alpha.phi <span class="op">=</span> <span class="fl">2</span><span class="op">/</span><span class="fl">3</span>,</span>
<span>  pc.u.cor <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  pc.alpha.cor <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  pc.st.u <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  pc.st.alpha <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  control.compute <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>dic <span class="op">=</span> <span class="cn">TRUE</span>, mlik <span class="op">=</span> <span class="cn">TRUE</span>, cpo <span class="op">=</span> <span class="cn">TRUE</span>, openmp.strategy <span class="op">=</span></span>
<span>    <span class="st">"default"</span>, config <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  control.inla <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>strategy <span class="op">=</span> <span class="st">"adaptive"</span>, int.strategy <span class="op">=</span> <span class="st">"auto"</span><span class="op">)</span>,</span>
<span>  control.fixed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  geo <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rw <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ar <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  options <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>Combined dataset</p></dd>


<dt>Amat</dt>
<dd><p>Adjacency matrix for the regions</p></dd>


<dt>formula</dt>
<dd><p>INLA formula. See vignette for example of using customized formula.</p></dd>


<dt>time.model</dt>
<dd><p>Model for the main temporal trend, can be rw1, rw2, or ar1. ar1 is not implemented for yearly model with period data input. Default to be rw2. For ar1 main effect, a linear slope is also added with time scaled to be between -0.5 to 0.5, i.e., the slope coefficient represents the total change between the first year and the last year in the projection period on the logit scale.</p></dd>


<dt>st.time.model</dt>
<dd><p>Temporal component model for the interaction term, can be rw1, rw2, or ar1. ar1 is not implemented for yearly model with period data input. Default to be the same as time.model unless specified otherwise. For ar1 interaction model, region-specific random slopes are currently not implemented.</p></dd>


<dt>year_label</dt>
<dd><p>string vector of year names</p></dd>


<dt>year_range</dt>
<dd><p>Entire range of the years (inclusive) defined in year_label.</p></dd>


<dt>is.yearly</dt>
<dd><p>Logical indicator for fitting yearly or period model.</p></dd>


<dt>m</dt>
<dd><p>Number of years in each period.</p></dd>


<dt>type.st</dt>
<dd><p>type for space-time interaction</p></dd>


<dt>survey.effect</dt>
<dd><p>logical indicator whether to include a survey iid random effect. If this is set to TRUE, there needs to be a column named 'survey' in the input data frame. In prediction, this random effect term will be set to 0. Notice this survey effect is implemented according to the Merter et al. (2015) model, and differently compared to the smoothCluster() function.</p></dd>


<dt>hyper</dt>
<dd><p>which hyperpriors to use. Default to be using the PC prior ("pc").</p></dd>


<dt>pc.u</dt>
<dd><p>hyperparameter U for the PC prior on precisions.</p></dd>


<dt>pc.alpha</dt>
<dd><p>hyperparameter alpha for the PC prior on precisions.</p></dd>


<dt>pc.u.phi</dt>
<dd><p>hyperparameter U for the PC prior on the mixture probability phi in BYM2 model.</p></dd>


<dt>pc.alpha.phi</dt>
<dd><p>hyperparameter alpha for the PC prior on the mixture probability phi in BYM2 model.</p></dd>


<dt>pc.u.cor</dt>
<dd><p>hyperparameter U for the PC prior on the autocorrelation parameter in the AR prior, i.e. Prob(cor &gt; pc.u.cor) = pc.alpha.cor.</p></dd>


<dt>pc.alpha.cor</dt>
<dd><p>hyperparameter alpha for the PC prior on the autocorrelation parameter in the AR prior.</p></dd>


<dt>pc.st.u</dt>
<dd><p>hyperparameter U for the PC prior on precisions for the interaction term.</p></dd>


<dt>pc.st.alpha</dt>
<dd><p>hyperparameter alpha for the PC prior on precisions for the interaction term.</p></dd>


<dt>control.compute</dt>
<dd><p>list of options to be passed to control.compute() in the inla() function. The default argument saves the internal objects created by INLA for posterior sampling later. If the fitted object is too large in size and there is no need to perform joint posterior sampling from the model (only used in benchmarking), this argument can be set to <code>control.compute = list(config = FALSE)</code> to reduce the size of the fitted object.</p></dd>


<dt>control.inla</dt>
<dd><p>list of options to be passed to control.inla() in the inla() function. Default to the "adaptive" integration strategy.</p></dd>


<dt>control.fixed</dt>
<dd><p>list of options to be passed to control.fixed() in the inla() function.</p></dd>


<dt>verbose</dt>
<dd><p>logical indicator to print out detailed inla() intermediate steps.</p></dd>


<dt>geo</dt>
<dd><p>Deprecated.</p></dd>


<dt>rw</dt>
<dd><p>Deprecated.</p></dd>


<dt>ar</dt>
<dd><p>Deprecated.</p></dd>


<dt>options</dt>
<dd><p>Deprecated.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>List of fitted object</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Li, Z., Hsiao, Y., Godwin, J., Martin, B. D., Wakefield, J., Clark, S. J., &amp; with support from the United Nations Inter-agency Group for Child Mortality Estimation and its technical advisory group. (2019). <em>Changes in the spatial distribution of the under-five mortality rate: Small-area analysis of 122 DHS surveys in 262 subregions of 35 countries in Africa.</em> PloS one, 14(1), e0210645.</p>
<p>Mercer, L. D., Wakefield, J., Pantazis, A., Lutambi, A. M., Masanja, H., &amp; Clark, S. (2015). <em>Space-time smoothing of complex survey data: small area estimation for child mortality.</em> The annals of applied statistics, 9(4), 1889.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="getDirect.html">getDirect</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Zehang Richard Li</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">years</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">DemoData</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">time</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># obtain direct estimates</span></span></span>
<span class="r-in"><span>  <span class="va">data_multi</span> <span class="op">&lt;-</span> <span class="fu"><a href="getDirectList.html">getDirectList</a></span><span class="op">(</span>births <span class="op">=</span> <span class="va">DemoData</span>, years <span class="op">=</span> <span class="va">years</span>,</span></span>
<span class="r-in"><span>  regionVar <span class="op">=</span> <span class="st">"region"</span>,  timeVar <span class="op">=</span> <span class="st">"time"</span>, clusterVar <span class="op">=</span> <span class="st">"~clustid+id"</span>,</span></span>
<span class="r-in"><span>  ageVar <span class="op">=</span> <span class="st">"age"</span>, weightsVar <span class="op">=</span> <span class="st">"weights"</span>, geo.recode <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="aggregateSurvey.html">aggregateSurvey</a></span><span class="op">(</span><span class="va">data_multi</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co">#  national model</span></span></span>
<span class="r-in"><span>  <span class="va">years.all</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">years</span>, <span class="st">"15-19"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">fit1</span> <span class="op">&lt;-</span> <span class="fu">smoothDirect</span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span>, Amat <span class="op">=</span> <span class="cn">NULL</span>, </span></span>
<span class="r-in"><span>  year_label <span class="op">=</span> <span class="va">years.all</span>, year_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1985</span>, <span class="fl">2019</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  time.model <span class="op">=</span> <span class="st">'rw2'</span>, m <span class="op">=</span> <span class="fl">5</span>, control.compute <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>config <span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">out1</span> <span class="op">&lt;-</span> <span class="fu"><a href="getSmoothed.html">getSmoothed</a></span><span class="op">(</span><span class="va">fit1</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">out1</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co">#  subnational model</span></span></span>
<span class="r-in"><span>  <span class="va">fit2</span> <span class="op">&lt;-</span> <span class="fu">smoothDirect</span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span>, Amat <span class="op">=</span> <span class="va">DemoMap</span><span class="op">$</span><span class="va">Amat</span>, </span></span>
<span class="r-in"><span>  year_label <span class="op">=</span> <span class="va">years.all</span>, year_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1985</span>, <span class="fl">2019</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  time.model <span class="op">=</span> <span class="st">'rw2'</span>, m <span class="op">=</span> <span class="fl">5</span>, type.st <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">out2</span> <span class="op">&lt;-</span> <span class="fu"><a href="getSmoothed.html">getSmoothed</a></span><span class="op">(</span><span class="va">fit2</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">out2</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co">#  subnational space-only model for one period</span></span></span>
<span class="r-in"><span>  <span class="va">fit3</span> <span class="op">&lt;-</span> <span class="fu">smoothDirect</span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">years</span> <span class="op">==</span> <span class="st">"10-14"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>           time.model <span class="op">=</span> <span class="cn">NULL</span>, Amat <span class="op">=</span> <span class="va">DemoMap</span><span class="op">$</span><span class="va">Amat</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">out3</span> <span class="op">&lt;-</span> <span class="fu"><a href="getSmoothed.html">getSmoothed</a></span><span class="op">(</span><span class="va">fit3</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">out3</span>, plot.CI <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zehang R Li, Bryan D Martin, Yuan Hsiao, Jessica Godwin, John Paige, Peter Gao, Jon Wakefield, Samuel J Clark, Geir-Arne Fuglstad, Andrea Riebler.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

